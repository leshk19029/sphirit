--[[
	WARNING: Heads up! This script has not been verified by ScriptBlox. Use at your own risk!
]]
-- Load UI Library
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/leshk19029/sphirit/refs/heads/main/library"))()

-- Create Main Window
local Window = Library:Window({
    Title = "Snow",
    Desc = "Hub",
    Icon = 105059922903197,
    Theme = "Dark",
    Config = {
        Keybind = Enum.KeyCode.LeftControl,
        Size = UDim2.new(0, 500, 0, 400)
    },
    CloseUIButton = {
        Enabled = true,
        Text = "x2zu"
    }
})

-- Speed Boost Module
local SpeedBoostModule = {}
SpeedBoostModule.Enabled = false
SpeedBoostModule.CurrentSpeed = 16
SpeedBoostModule.VelocityConnection = nil
SpeedBoostModule.Player = game:GetService("Players").LocalPlayer

function SpeedBoostModule:Enable()
    local RunService = game:GetService('RunService')
    
    local character = self.Player.Character
    if not character then return end
    
    self:Disable()

    self.VelocityConnection = RunService.Heartbeat:Connect(function()
        if not self.Enabled then return end
        
        character = self.Player.Character
        if not character or not character.Parent then return end
        
        local humanoid = character:FindFirstChild('Humanoid')
        local rootPart = character:FindFirstChild('HumanoidRootPart')
        
        if humanoid and rootPart and humanoid.MoveDirection.Magnitude > 0 then
            local moveDirection = humanoid.MoveDirection
            local velocity = moveDirection * self.CurrentSpeed
            rootPart.Velocity = Vector3.new(velocity.X, rootPart.Velocity.Y, velocity.Z)
        end
    end)
end

function SpeedBoostModule:Disable()
    if self.VelocityConnection then
        self.VelocityConnection:Disconnect()
        self.VelocityConnection = nil
    end
end

function SpeedBoostModule:SetSpeed(speed)
    self.CurrentSpeed = math.clamp(speed, 1, 45)
end

function SpeedBoostModule:SetEnabled(state)
    self.Enabled = state
    if state then
        self:Enable()
    else
        self:Disable()
    end
end

-- Обработка смены персонажа
SpeedBoostModule.Player.CharacterAdded:Connect(function()
    if SpeedBoostModule.Enabled then
        SpeedBoostModule:Disable()
        SpeedBoostModule:Enable()
    end
end)

SpeedBoostModule.Player.CharacterRemoving:Connect(function()
    SpeedBoostModule:Disable()
end)

-- Main Tab
local Tab = Window:Tab({Title = "Main", Icon = "star"}) do
    -- Speed Boost Section
    Tab:Section({Title = "Speed Boost"})

    -- Toggle for Speed Boost
    Tab:Toggle({
        Title = "Enable Speed Boost",
        Desc = "Toggle to enable or disable speed boost",
        Value = false,
        Callback = function(v)
            SpeedBoostModule:SetEnabled(v)
            print("Speed Boost:", v)
        end
    })

    -- Slider for Speed
    Tab:Slider({
        Title = "Speed Value",
        Min = 1,
        Max = 45,
        Rounding = 0,
        Value = 16,
        Callback = function(val)
            SpeedBoostModule:SetSpeed(val)
            print("Speed set to:", val)
        end
    })

    -- Info Section
    Tab:Section({Title = "Info"})
    
    Tab:Button({
        Title = "Get Current Speed",
        Desc = "Click to see current speed value",
        Callback = function()
            Window:Notify({
                Title = "Current Speed",
                Desc = "Speed: " .. tostring(SpeedBoostModule.CurrentSpeed),
                Time = 3
            })
        end
    })
end

-- Final Notification
Window:Notify({
    Title = "Speed Boost Loaded",
    Desc = "Speed boost module has been successfully loaded!",
    Time = 4
})
