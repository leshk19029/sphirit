return function()
    local lighting = game:GetService("Lighting")
    local camera = game:GetService("Workspace").CurrentCamera
    local RunService = game:GetService("RunService")

    -- Таблица для хранения всех соединений
    local connections = {}

    -- Функция для удаления DiscoEffect
    local function checkForDiscoEffect(child)
        if child.Name == "DiscoEffect" then
            child:Destroy()
            
            local blur = lighting:FindFirstChild("Blur")
            if blur then
                blur:Destroy()
            end

            local correction = lighting:FindFirstChild("ColorCorrection") or Instance.new("ColorCorrection")
            correction.Parent = lighting
            correction.Enabled = true

            camera.FieldOfView = 70
        end
    end

    -- Функция для проверки FOV
    local function checkFOV()
        if camera and camera.FieldOfView ~= 70 then
            camera.FieldOfView = 70
        end
    end

    -- Функция для проверки и удаления эффектов
    local function checkEffects()
        for _, effectName in ipairs({"BeeBlur", "ColorCorrection", "Blur"}) do
            local effect = lighting:FindFirstChild(effectName)
            if effect then
                effect:Destroy()
            end
        end
    end

    -- Настраиваем соединения
    connections.discoConnection = lighting.ChildAdded:Connect(checkForDiscoEffect)
    connections.effectsConnection = lighting.ChildAdded:Connect(function(child)
        if child.Name == "BeeBlur" or child.Name == "ColorCorrection" then
            child:Destroy()
        end
    end)
    connections.fovConnection = camera:GetPropertyChangedSignal("FieldOfView"):Connect(checkFOV)
    connections.heartbeatConnection = RunService.Heartbeat:Connect(function()
        checkEffects()
        checkFOV()
    end)

    -- Первоначальная проверка
    for _, child in ipairs(lighting:GetChildren()) do
        checkForDiscoEffect(child)
    end
    checkEffects()
    checkFOV()

    -- Функция очистки
    local function cleanup()
        for _, connection in pairs(connections) do
            if connection and typeof(connection) == "RBXScriptConnection" then
                connection:Disconnect()
            end
        end
        
        -- Восстанавливаем FOV
        if camera then
            camera.FieldOfView = 70
        end
    end

    -- Возвращаем функцию очистки
    return cleanup
end
