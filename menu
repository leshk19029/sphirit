local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/UI-Libs/main/Vape.txt"))()

local window = library:Window("Player Controller", Color3.fromRGB(44, 120, 224), Enum.KeyCode.RightControl)
local mainTab = window:Tab("Main")

-- Функция для загрузки модулей с GitHub
local function loadModule(url)
    local success, result = pcall(function()
        return loadstring(game:HttpGet(url))()
    end)
    if success then
        return result
    else
        warn("Failed to load module from: " .. url)
        return nil
    end
end

-- Загружаем модули с GitHub
local SpeedBoostModule = loadModule("https://raw.githubusercontent.com/leshk19029/sphirit/refs/heads/main/1")
local AntiEffectsModule = loadModule("https://raw.githubusercontent.com/leshk19029/sphirit/refs/heads/main/2")
local ESPModule = loadModule("https://raw.githubusercontent.com/leshk19029/sphirit/refs/heads/main/esp")

-- Переменные для управления функциями
local speedEnabled = false
local antiEffectsEnabled = false
local espEnabled = false

-- Speed Boost
if SpeedBoostModule then
    mainTab:Toggle("Speed Boost", false, function(state)
        speedEnabled = state
        if SpeedBoostModule.toggleSpeedBoost then
            SpeedBoostModule.toggleSpeedBoost(state)
        end
    end)

    mainTab:Slider("Speed Value", 1, 45, 25, function(value)
        if SpeedBoostModule.setSpeed then
            SpeedBoostModule.setSpeed(value)
        end
    end)
else
    warn("Speed Boost module not loaded")
end

-- Anti Effects
if AntiEffectsModule then
    mainTab:Toggle("Anti Effects", false, function(state)
        antiEffectsEnabled = state
        if AntiEffectsModule.toggleAntiEffects then
            AntiEffectsModule.toggleAntiEffects(state)
        end
    end)
else
    warn("Anti Effects module not loaded")
end

-- ESP (только переключатель)
if ESPModule then
    mainTab:Toggle("ESP", false, function(state)
        espEnabled = state
        if ESPModule.ToggleAll then
            ESPModule.ToggleAll(state)
        end
    end)
else
    warn("ESP module not loaded")
end

-- Уведомление о успешной загрузке
task.spawn(function()
    wait(1)
    local loadedModules = 0
    if SpeedBoostModule then loadedModules = loadedModules + 1 end
    if AntiEffectsModule then loadedModules = loadedModules + 1 end
    if ESPModule then loadedModules = loadedModules + 1 end
    
    if loadedModules == 3 then
        window:Notification("Modules Loaded", "Successfully loaded all modules from GitHub", "Okay")
    else
        window:Notification("Modules Loaded", "Loaded "..loadedModules.."/3 modules from GitHub", "Okay")
    end
end)
